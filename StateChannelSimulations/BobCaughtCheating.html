<!-- Implementation that only displays what the blockchain sees -->
<html>
	<head>
		<script src="web3.js/dist/web3.min.js"></script>
		<link rel="stylesheet" type="text/css" href="testCases.css">
	</head>

	<script>
		function ABstart() {
			var row = document.getElementById("info").insertRow(1);
			var channelNumber = row.insertCell(0);
			channelNumber.innerHTML = "0";
			var participantAddresses = row.insertCell(1);
			participantAddresses.innerHTML = "0x1, 0x2";
			var lastTransaction = row.insertCell(2);
			lastTransaction.innerHTML = "N/A";
			var lastModified = row.insertCell(3);
			lastModified.innerHTML = "N/A";
			document.getElementById("button1").value = "See what happens when Alice disappears and Bob cheats";
			document.getElementById("button1").onclick = Bcheats;
		}
		
		function Bcheats() {
			document.getElementById("info").deleteRow(1);
			var row = document.getElementById("info").insertRow(1);
			var channelNumber = row.insertCell(0);
			channelNumber.innerHTML = "0";
			var participantAddresses = row.insertCell(1);
			participantAddresses.innerHTML = "0x1, 0x2";
			var lastTransaction = row.insertCell(2);
			lastTransaction.innerHTML = "4";
			var lastModified = row.insertCell(3);
			lastModified.innerHTML = Date();
			document.getElementById("button1").value = "See what happens when Alice comes back and reports Bob";
			document.getElementById("button1").onclick = Areports;
		}	
		
		function Areports() {
			document.getElementById("info").deleteRow(1);
			var row = document.getElementById("info").insertRow(1);
			var channelNumber = row.insertCell(0);
			channelNumber.innerHTML = "0";
			var participantAddresses = row.insertCell(1);
			participantAddresses.innerHTML = "0x1, 0x2";
			var lastTransaction = row.insertCell(2);
			lastTransaction.innerHTML = "9";
			var lastModified = row.insertCell(3);
			lastModified.innerHTML = Date();
			document.getElementById("button1").value = "See what happens when the state channel closes";
			document.getElementById("button1").onclick = ABdone;
		}
		
		function ABdone() {
			document.getElementById("info").deleteRow(1);
			document.getElementById("button1").value = "Redo Simulation";
			document.getElementById("button1").onclick = restart;
		}
		
		function restart() {
			document.getElementById("button1").value = "See what happens when Alice and Bob start a state channel";
			document.getElementById("button1").onclick = ABstart;
		}
	</script>

	<body>
		<h1> Active State Channels </h1>
		<table id="info">
			<tr>
				<th> Channel Number </th> <!-- Arbitrary identification method -->
				<th> Participant addresses </th>
				<th> Number of Last Submitted Transaction </th>
				<th> Last Modified </th>
			</tr>
		</table>
		<br>
		<input type="button" class="next" value="See what happens when Alice and Bob start a state channel" onClick="ABstart()" id="button1">
	</body>
</html>
